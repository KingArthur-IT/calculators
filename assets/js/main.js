"use strict";

/* SLIDE UP */
var slideUp = function slideUp(target) {
  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  target.style.transitionProperty = 'height, margin, padding';
  target.style.transitionDuration = duration + 'ms';
  target.style.boxSizing = 'border-box';
  target.style.height = target.offsetHeight + 'px';
  target.offsetHeight;
  target.style.overflow = 'hidden';
  target.style.height = 0;
  target.style.paddingTop = 0;
  target.style.paddingBottom = 0;
  target.style.marginTop = 0;
  target.style.marginBottom = 0;
  window.setTimeout(() => {
    target.style.display = 'none';
    target.style.removeProperty('height');
    target.style.removeProperty('padding-top');
    target.style.removeProperty('padding-bottom');
    target.style.removeProperty('margin-top');
    target.style.removeProperty('margin-bottom');
    target.style.removeProperty('overflow');
    target.style.removeProperty('transition-duration');
    target.style.removeProperty('transition-property'); //alert("!")
  }, duration);
};
/* SLIDE DOWN */


var slideDown = function slideDown(target) {
  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  target.style.removeProperty('display');
  var display = window.getComputedStyle(target).display;
  if (display === 'none') display = 'block';
  target.style.display = display;
  var height = target.offsetHeight;
  target.style.overflow = 'hidden';
  target.style.height = 0;
  target.style.paddingTop = 0;
  target.style.paddingBottom = 0;
  target.style.marginTop = 0;
  target.style.marginBottom = 0;
  target.offsetHeight;
  target.style.boxSizing = 'border-box';
  target.style.transitionProperty = "height, margin, padding";
  target.style.transitionDuration = duration + 'ms';
  target.style.height = height + 'px';
  target.style.removeProperty('padding-top');
  target.style.removeProperty('padding-bottom');
  target.style.removeProperty('margin-top');
  target.style.removeProperty('margin-bottom');
  window.setTimeout(() => {
    target.style.removeProperty('height');
    target.style.removeProperty('overflow');
    target.style.removeProperty('transition-duration');
    target.style.removeProperty('transition-property');
  }, duration);
};
/* TOOGGLE */


var slideToggle = function slideToggle(target) {
  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;

  if (window.getComputedStyle(target).display === 'none') {
    return slideDown(target, duration);
  } else {
    return slideUp(target, duration);
  }
};

(function ($) {
  $(document).ready(function () {
    svg4everybody({});
  });
})(jQuery);

window.addEventListener("resize", function () {
  var vh = window.innerHeight * 0.01; // Then we set the value in the --vh custom property to the root of the document

  document.documentElement.style.setProperty('--vh', "".concat(vh, "px"));
});
window.addEventListener("load", function () {
  var body = this.document.querySelector("body");
  var html = this.document.querySelector("html");
  var vh = window.innerHeight * 0.01; // Then we set the value in the --vh custom property to the root of the document

  document.documentElement.style.setProperty('--vh', "".concat(vh, "px")); // // aos

  setTimeout(function () {
    AOS.init({
      duration: 800,
      once: true
    });
  }, 10); // // aos end
  // header menu

  var headerBurger = document.querySelector(".header__burger");
  var headerMenu = document.querySelector(".header__menu");

  if (headerBurger && headerMenu) {
    headerBurger.addEventListener("click", function () {
      headerBurger.classList.toggle("active");
      headerMenu.classList.toggle("active");
      body.classList.toggle("lock");
      html.classList.toggle("lock");
    });
    window.addEventListener("resize", function () {
      if (window.innerWidth > 1024 && headerMenu.classList.contains("active")) {
        headerBurger.classList.remove("active");
        headerMenu.classList.remove("active");
        body.classList.remove("lock");
        html.classList.remove("lock");
      }
    }); // header links

    var headerLinks = headerMenu.querySelectorAll(".header__link");

    if (headerLinks) {
      headerLinks.forEach(link => {
        var triggerLink = link.querySelector(".trigger");
        var menuLink = link.querySelector(".header-link__menu");

        if (triggerLink && menuLink) {
          triggerLink.addEventListener("click", function () {
            if (window.innerWidth <= 1024) {
              triggerLink.classList.toggle("active");
              slideToggle(menuLink, 300);
            }
          });
          window.addEventListener("resize", function () {
            if (window.innerWidth > 1024 && menuLink.hasAttribute("style")) {
              triggerLink.classList.remove("active");
              menuLink.removeAttribute("style");
            }
          });
        }
      });
    } // header links end

  } // header menu end
  // faq


  var faqItems = document.querySelectorAll(".faq__item ");

  if (faqItems) {
    faqItems.forEach(faq => {
      var faqTrigger = faq.querySelector(".faq__trigger ");
      var faqContent = faq.querySelector(".faq__content ");

      if (faqContent && faqTrigger) {
        faqTrigger.addEventListener("click", function () {
          faqTrigger.classList.toggle("active");
          slideToggle(faqContent, 300);
        });
      }
    });
  } // faq end
  // sliders
  // slider review


  var swiperReview = new Swiper(".review__slider  .swiper-container", {
    navigation: {
      nextEl: ".review__slider .swiper-button-nextt",
      prevEl: ".review__slider .swiper-button-prevv"
    },
    slidesPerView: 1,
    spaceBetween: 20,
    slidesPerGroup: 1,
    speed: 700,
    breakpoints: {
      1451: {
        slidesPerView: 2,
        spaceBetween: 45,
        slidesPerGroup: 1
      },
      1301: {
        slidesPerView: 2,
        spaceBetween: 30,
        slidesPerGroup: 1
      },
      1025: {
        slidesPerView: 1,
        spaceBetween: 20,
        slidesPerGroup: 1
      },
      577: {
        slidesPerView: 2,
        spaceBetween: 20,
        slidesPerGroup: 1
      }
    }
  }); // slider review end
  // sliders end
  //validate

  var forms = document.querySelectorAll(".form-container");
  forms && forms.forEach(item => {
    var email = item.querySelector(".mail");

    if (email) {
      var parent = email.closest(".form-item");
      var pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
      email.addEventListener("keyup", function (ev) {
        ev.stopPropagation();
        var value = email.value;

        if (value.match(pattern)) {
          parent.classList.remove("error__email");
        } else {
          parent.classList.add("error__email");
        }

        if (value.length < 1) {
          parent.classList.remove("error__email");
        }
      });
    }

    item.addEventListener('submit', function (e) {
      e.preventDefault();
      var valide = true;
      var inputs = item.querySelectorAll('.form-required');
      var inputsForm = item.querySelectorAll('.form-input');
      inputs.forEach(element => {
        var parent = element.closest('.form-item');
        var form = element.closest(".folow__form");

        if (element.value.trim() === '') {
          parent.classList.add('error');

          if (form) {
            form.classList.add("error");
          }

          valide = false;
        } else {
          parent.classList.remove('error');

          if (form) {
            form.classList.remove("error");
          }
        }
      });

      if (item.classList.contains("mail-form")) {
        var _email = item.querySelector(".mail");

        var formItem = _email.closest(".form-item");

        if (formItem.classList.contains("error__email")) {
          valide = false;
        }
      }

      if (valide) {
        fetch('https://jsonplaceholder.typicode.com/posts', {
          method: 'POST',
          body: new FormData(item)
        }).then(function (response) {
          if (response.ok) {
            return response.json();
          }

          return Promise.reject(response);
        }).then(function (data) {})["catch"](function (error) {
          console.warn(error);
        });
        inputs.forEach(element => {
          element.value = "";
        });
        inputsForm.forEach(element => {
          element.value = "";
        });
      }
    });
  });
  var inputs = document.querySelectorAll('.form-item');

  var _loop = function _loop(i) {
    inputs[i].addEventListener("input", function () {
      var form = inputs[i].closest(".folow__form");

      if (form) {
        form.classList.remove("error");
      }

      inputs[i].classList.remove("error");
    });
  };

  for (var i = 0; i < inputs.length; i++) {
    _loop(i);
  } // validate end
  // filter buttons


  var filterButtons = document.querySelectorAll(".filter__btn");

  if (filterButtons) {
    filterButtons.forEach(btn => {
      btn.addEventListener("click", function () {
        filterButtons.forEach(el => {
          el.classList.remove("active");
        });
        btn.classList.add('active');
      });
    });
  } // filter end

});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2xpZGVVcCIsInRhcmdldCIsImR1cmF0aW9uIiwic3R5bGUiLCJ0cmFuc2l0aW9uUHJvcGVydHkiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJib3hTaXppbmciLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJvdmVyZmxvdyIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwid2luZG93Iiwic2V0VGltZW91dCIsImRpc3BsYXkiLCJyZW1vdmVQcm9wZXJ0eSIsInNsaWRlRG93biIsImdldENvbXB1dGVkU3R5bGUiLCJzbGlkZVRvZ2dsZSIsIiQiLCJkb2N1bWVudCIsInJlYWR5Iiwic3ZnNGV2ZXJ5Ym9keSIsImpRdWVyeSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2aCIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2V0UHJvcGVydHkiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsImh0bWwiLCJBT1MiLCJpbml0Iiwib25jZSIsImhlYWRlckJ1cmdlciIsImhlYWRlck1lbnUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJpbm5lcldpZHRoIiwiY29udGFpbnMiLCJyZW1vdmUiLCJoZWFkZXJMaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwibGluayIsInRyaWdnZXJMaW5rIiwibWVudUxpbmsiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmYXFJdGVtcyIsImZhcSIsImZhcVRyaWdnZXIiLCJmYXFDb250ZW50Iiwic3dpcGVyUmV2aWV3IiwiU3dpcGVyIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJHcm91cCIsInNwZWVkIiwiYnJlYWtwb2ludHMiLCJmb3JtcyIsIml0ZW0iLCJlbWFpbCIsInBhcmVudCIsImNsb3Nlc3QiLCJwYXR0ZXJuIiwiZXYiLCJzdG9wUHJvcGFnYXRpb24iLCJ2YWx1ZSIsIm1hdGNoIiwiYWRkIiwibGVuZ3RoIiwiZSIsInByZXZlbnREZWZhdWx0IiwidmFsaWRlIiwiaW5wdXRzIiwiaW5wdXRzRm9ybSIsImVsZW1lbnQiLCJmb3JtIiwidHJpbSIsImZvcm1JdGVtIiwiZmV0Y2giLCJtZXRob2QiLCJGb3JtRGF0YSIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImkiLCJmaWx0ZXJCdXR0b25zIiwiYnRuIiwiZWwiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxJQUFNQSxPQUFPLEdBQUcsU0FBVkEsT0FBVSxDQUFDQyxNQUFELEVBQTRCO0VBQUEsSUFBbkJDLFFBQW1CLHVFQUFSLEdBQVE7RUFDMUNELE1BQU0sQ0FBQ0UsS0FBUCxDQUFhQyxrQkFBYixHQUFrQyx5QkFBbEM7RUFDQUgsTUFBTSxDQUFDRSxLQUFQLENBQWFFLGtCQUFiLEdBQWtDSCxRQUFRLEdBQUcsSUFBN0M7RUFDQUQsTUFBTSxDQUFDRSxLQUFQLENBQWFHLFNBQWIsR0FBeUIsWUFBekI7RUFDQUwsTUFBTSxDQUFDRSxLQUFQLENBQWFJLE1BQWIsR0FBc0JOLE1BQU0sQ0FBQ08sWUFBUCxHQUFzQixJQUE1QztFQUNBUCxNQUFNLENBQUNPLFlBQVA7RUFDQVAsTUFBTSxDQUFDRSxLQUFQLENBQWFNLFFBQWIsR0FBd0IsUUFBeEI7RUFDQVIsTUFBTSxDQUFDRSxLQUFQLENBQWFJLE1BQWIsR0FBc0IsQ0FBdEI7RUFDQU4sTUFBTSxDQUFDRSxLQUFQLENBQWFPLFVBQWIsR0FBMEIsQ0FBMUI7RUFDQVQsTUFBTSxDQUFDRSxLQUFQLENBQWFRLGFBQWIsR0FBNkIsQ0FBN0I7RUFDQVYsTUFBTSxDQUFDRSxLQUFQLENBQWFTLFNBQWIsR0FBeUIsQ0FBekI7RUFDQVgsTUFBTSxDQUFDRSxLQUFQLENBQWFVLFlBQWIsR0FBNEIsQ0FBNUI7RUFDQUMsTUFBTSxD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YixFQUFnQkEsQ0FBQyxHQUFHbkIsTUFBTSxDQUFDSixNQUEzQixFQUFtQ3VCLENBQUMsRUFBcEMsRUFBd0M7SUFBQSxNQUEvQkEsQ0FBK0I7RUFRdkMsQ0FoT3dDLENBa096QztFQUlBOzs7RUFFQSxJQUFJQyxhQUFhLEdBQUcvRSxRQUFRLENBQUN1QixnQkFBVCxDQUEwQixjQUExQixDQUFwQjs7RUFDQSxJQUFHd0QsYUFBSCxFQUFpQjtJQUNmQSxhQUFhLENBQUN2RCxPQUFkLENBQXNCd0QsR0FBRyxJQUFFO01BQ3pCQSxHQUFHLENBQUM1RSxnQkFBSixDQUFxQixPQUFyQixFQUE2QixZQUFVO1FBQ3JDMkUsYUFBYSxDQUFDdkQsT0FBZCxDQUFzQnlELEVBQUUsSUFBRTtVQUN4QkEsRUFBRSxDQUFDaEUsU0FBSCxDQUFhSSxNQUFiLENBQW9CLFFBQXBCO1FBQ0QsQ0FGRDtRQUdBMkQsR0FBRyxDQUFDL0QsU0FBSixDQUFjcUMsR0FBZCxDQUFrQixRQUFsQjtNQUNELENBTEQ7SUFNRCxDQVBEO0VBUUQsQ0FsUHdDLENBcVB6Qzs7QUFFQyxDQXZQRCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogU0xJREUgVVAgKi9cclxuY29uc3Qgc2xpZGVVcCA9ICh0YXJnZXQsIGR1cmF0aW9uID0gNTAwKSA9PiB7XHJcbiAgdGFyZ2V0LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9ICdoZWlnaHQsIG1hcmdpbiwgcGFkZGluZydcclxuICB0YXJnZXQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gZHVyYXRpb24gKyAnbXMnXHJcbiAgdGFyZ2V0LnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94J1xyXG4gIHRhcmdldC5zdHlsZS5oZWlnaHQgPSB0YXJnZXQub2Zmc2V0SGVpZ2h0ICsgJ3B4J1xyXG4gIHRhcmdldC5vZmZzZXRIZWlnaHRcclxuICB0YXJnZXQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xyXG4gIHRhcmdldC5zdHlsZS5oZWlnaHQgPSAwXHJcbiAgdGFyZ2V0LnN0eWxlLnBhZGRpbmdUb3AgPSAwXHJcbiAgdGFyZ2V0LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAwXHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpblRvcCA9IDBcclxuICB0YXJnZXQuc3R5bGUubWFyZ2luQm90dG9tID0gMFxyXG4gIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIHRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2hlaWdodCcpXHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3BhZGRpbmctdG9wJylcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy1ib3R0b20nKVxyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdtYXJnaW4tdG9wJylcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWFyZ2luLWJvdHRvbScpXHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ292ZXJmbG93JylcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNpdGlvbi1kdXJhdGlvbicpXHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zaXRpb24tcHJvcGVydHknKVxyXG4gICAgLy9hbGVydChcIiFcIilcclxuICB9LCBkdXJhdGlvbilcclxufVxyXG5cclxuLyogU0xJREUgRE9XTiAqL1xyXG5jb25zdCBzbGlkZURvd24gPSAodGFyZ2V0LCBkdXJhdGlvbiA9IDUwMCkgPT4ge1xyXG4gIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpXHJcbiAgbGV0IGRpc3BsYXkgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXlcclxuICBpZiAoZGlzcGxheSA9PT0gJ25vbmUnKSBkaXNwbGF5ID0gJ2Jsb2NrJ1xyXG4gIHRhcmdldC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheVxyXG4gIGxldCBoZWlnaHQgPSB0YXJnZXQub2Zmc2V0SGVpZ2h0XHJcbiAgdGFyZ2V0LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbidcclxuICB0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gMFxyXG4gIHRhcmdldC5zdHlsZS5wYWRkaW5nVG9wID0gMFxyXG4gIHRhcmdldC5zdHlsZS5wYWRkaW5nQm90dG9tID0gMFxyXG4gIHRhcmdldC5zdHlsZS5tYXJnaW5Ub3AgPSAwXHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IDBcclxuICB0YXJnZXQub2Zmc2V0SGVpZ2h0XHJcbiAgdGFyZ2V0LnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94J1xyXG4gIHRhcmdldC5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgPSBcImhlaWdodCwgbWFyZ2luLCBwYWRkaW5nXCJcclxuICB0YXJnZXQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gZHVyYXRpb24gKyAnbXMnXHJcbiAgdGFyZ2V0LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCdcclxuICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3BhZGRpbmctdG9wJylcclxuICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3BhZGRpbmctYm90dG9tJylcclxuICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ21hcmdpbi10b3AnKVxyXG4gIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWFyZ2luLWJvdHRvbScpXHJcbiAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdoZWlnaHQnKVxyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdvdmVyZmxvdycpXHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zaXRpb24tZHVyYXRpb24nKVxyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2l0aW9uLXByb3BlcnR5JylcclxuICB9LCBkdXJhdGlvbilcclxufVxyXG5cclxuLyogVE9PR0dMRSAqL1xyXG5jb25zdCBzbGlkZVRvZ2dsZSA9ICh0YXJnZXQsIGR1cmF0aW9uID0gNTAwKSA9PiB7XHJcbiAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuZGlzcGxheSA9PT0gJ25vbmUnKSB7XHJcbiAgICByZXR1cm4gc2xpZGVEb3duKHRhcmdldCwgZHVyYXRpb24pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gc2xpZGVVcCh0YXJnZXQsIGR1cmF0aW9uKTtcclxuICB9XHJcbn07XHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG5cclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICBzdmc0ZXZlcnlib2R5KHt9KTtcclxuICB9KTtcclxuXHJcbn0pKGpRdWVyeSk7XHJcblxyXG5cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZnVuY3Rpb24oKXtcclxuICBsZXQgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xyXG4gIC8vIFRoZW4gd2Ugc2V0IHRoZSB2YWx1ZSBpbiB0aGUgLS12aCBjdXN0b20gcHJvcGVydHkgdG8gdGhlIHJvb3Qgb2YgdGhlIGRvY3VtZW50XHJcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXZoJywgYCR7dmh9cHhgKTtcclxuXHJcbn0pXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe1xyXG4gIGxldCBib2R5ID0gdGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcclxuICBsZXQgaHRtbCA9IHRoaXMuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImh0bWxcIik7XHJcbiAgbGV0IHZoID0gd2luZG93LmlubmVySGVpZ2h0ICogMC4wMTtcclxuICAvLyBUaGVuIHdlIHNldCB0aGUgdmFsdWUgaW4gdGhlIC0tdmggY3VzdG9tIHByb3BlcnR5IHRvIHRoZSByb290IG9mIHRoZSBkb2N1bWVudFxyXG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12aCcsIGAke3ZofXB4YCk7XHJcblxyXG4gIC8vIC8vIGFvc1xyXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgIEFPUy5pbml0KHtcclxuICAgICAgZHVyYXRpb246IDgwMCxcclxuICAgICAgb25jZTogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0sMTApXHJcblxyXG4gIC8vIC8vIGFvcyBlbmRcclxuXHJcblxyXG4gIC8vIGhlYWRlciBtZW51XHJcblxyXG4gIGxldCBoZWFkZXJCdXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fYnVyZ2VyXCIpXHJcbiAgbGV0IGhlYWRlck1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fbWVudVwiKVxyXG4gIGlmKGhlYWRlckJ1cmdlciAmJiBoZWFkZXJNZW51KXtcclxuICAgIGhlYWRlckJ1cmdlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe1xyXG4gICAgICBoZWFkZXJCdXJnZXIuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKVxyXG4gICAgICBoZWFkZXJNZW51LmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIilcclxuICAgICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwibG9ja1wiKVxyXG4gICAgICBodG1sLmNsYXNzTGlzdC50b2dnbGUoXCJsb2NrXCIpXHJcbiAgICB9KVxyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZnVuY3Rpb24oKXtcclxuICAgICAgaWYod2luZG93LmlubmVyV2lkdGggPiAxMDI0ICYmIGhlYWRlck1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKXtcclxuICAgICAgICBoZWFkZXJCdXJnZXIuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxyXG4gICAgICAgIGhlYWRlck1lbnUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxyXG4gICAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImxvY2tcIilcclxuICAgICAgICBodG1sLmNsYXNzTGlzdC5yZW1vdmUoXCJsb2NrXCIpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG5cclxuICAgIC8vIGhlYWRlciBsaW5rc1xyXG5cclxuICAgIGxldCBoZWFkZXJMaW5rcyA9IGhlYWRlck1lbnUucXVlcnlTZWxlY3RvckFsbChcIi5oZWFkZXJfX2xpbmtcIilcclxuICAgIGlmKGhlYWRlckxpbmtzKXtcclxuICAgICAgaGVhZGVyTGlua3MuZm9yRWFjaChsaW5rPT57XHJcbiAgICAgICAgbGV0IHRyaWdnZXJMaW5rID0gbGluay5xdWVyeVNlbGVjdG9yKFwiLnRyaWdnZXJcIilcclxuICAgICAgICBsZXQgbWVudUxpbmsgPSBsaW5rLnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyLWxpbmtfX21lbnVcIilcclxuICAgICAgICBpZih0cmlnZ2VyTGluayAmJiBtZW51TGluayl7XHJcbiAgICAgICAgICB0cmlnZ2VyTGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZih3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMDI0KXtcclxuICAgICAgICAgICAgICB0cmlnZ2VyTGluay5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpXHJcbiAgICAgICAgICAgICAgc2xpZGVUb2dnbGUobWVudUxpbmssMzAwKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYod2luZG93LmlubmVyV2lkdGggPiAxMDI0ICYmIG1lbnVMaW5rLmhhc0F0dHJpYnV0ZShcInN0eWxlXCIpKXtcclxuICAgICAgICAgICAgICB0cmlnZ2VyTGluay5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpXHJcbiAgICAgICAgICAgICAgbWVudUxpbmsucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGVhZGVyIGxpbmtzIGVuZFxyXG4gIH1cclxuICAvLyBoZWFkZXIgbWVudSBlbmRcclxuXHJcblxyXG4gIC8vIGZhcVxyXG5cclxuICBsZXQgZmFxSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZhcV9faXRlbSBcIilcclxuICBpZihmYXFJdGVtcyl7XHJcbiAgICBmYXFJdGVtcy5mb3JFYWNoKGZhcT0+e1xyXG4gICAgICBsZXQgZmFxVHJpZ2dlciA9IGZhcS5xdWVyeVNlbGVjdG9yKFwiLmZhcV9fdHJpZ2dlciBcIilcclxuICAgICAgbGV0IGZhcUNvbnRlbnQgPSBmYXEucXVlcnlTZWxlY3RvcihcIi5mYXFfX2NvbnRlbnQgXCIpXHJcbiAgICAgIGlmKGZhcUNvbnRlbnQgJiYgZmFxVHJpZ2dlcil7XHJcbiAgICAgICAgZmFxVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe1xyXG4gICAgICAgICAgZmFxVHJpZ2dlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpXHJcbiAgICAgICAgICBzbGlkZVRvZ2dsZShmYXFDb250ZW50LDMwMClcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcblxyXG4gIC8vIGZhcSBlbmRcclxuXHJcblxyXG5cclxuICAvLyBzbGlkZXJzXHJcblxyXG5cclxuICAvLyBzbGlkZXIgcmV2aWV3XHJcblxyXG4gIGxldCBzd2lwZXJSZXZpZXcgPSBuZXcgU3dpcGVyKFwiLnJldmlld19fc2xpZGVyICAuc3dpcGVyLWNvbnRhaW5lclwiLCB7XHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogXCIucmV2aWV3X19zbGlkZXIgLnN3aXBlci1idXR0b24tbmV4dHRcIixcclxuICAgICAgcHJldkVsOiBcIi5yZXZpZXdfX3NsaWRlciAuc3dpcGVyLWJ1dHRvbi1wcmV2dlwiLFxyXG4gICAgfSxcclxuICAgIHNsaWRlc1BlclZpZXc6MSxcclxuICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICBzbGlkZXNQZXJHcm91cDoxLFxyXG4gICAgc3BlZWQ6NzAwLFxyXG4gICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgMTQ1MToge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiA0NSxcclxuICAgICAgICBzbGlkZXNQZXJHcm91cDogMSxcclxuICAgICAgfSxcclxuICAgICAgMTMwMTp7XHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICBzcGFjZUJldHdlZW46IDMwLFxyXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxyXG4gICAgICB9LFxyXG4gICAgICAxMDI1OntcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgc2xpZGVzUGVyR3JvdXA6MSxcclxuICAgICAgfSxcclxuICAgICAgNTc3OntcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgc2xpZGVzUGVyR3JvdXA6MSxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBzbGlkZXIgcmV2aWV3IGVuZFxyXG5cclxuICAvLyBzbGlkZXJzIGVuZFxyXG5cclxuXHJcbi8vdmFsaWRhdGVcclxuXHJcbmNvbnN0IGZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtLWNvbnRhaW5lclwiKVxyXG5cclxuZm9ybXMgJiYgZm9ybXMuZm9yRWFjaChpdGVtID0+IHtcclxuICBsZXQgZW1haWwgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbFwiKVxyXG4gIGlmIChlbWFpbCkge1xyXG4gICAgbGV0IHBhcmVudCA9IGVtYWlsLmNsb3Nlc3QoXCIuZm9ybS1pdGVtXCIpXHJcbiAgICBsZXQgcGF0dGVybiA9IC9eW14gXStAW14gXStcXC5bYS16XXsyLDN9JC87XHJcbiAgICBlbWFpbC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZnVuY3Rpb24gKGV2KSB7XHJcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBsZXQgdmFsdWUgPSBlbWFpbC52YWx1ZTtcclxuICAgICAgaWYgKHZhbHVlLm1hdGNoKHBhdHRlcm4pKSB7XHJcbiAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvcl9fZW1haWxcIilcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZChcImVycm9yX19lbWFpbFwiKVxyXG4gICAgICB9XHJcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvcl9fZW1haWxcIilcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBsZXQgdmFsaWRlID0gdHJ1ZTtcclxuICAgIGNvbnN0IGlucHV0cyA9IGl0ZW0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tcmVxdWlyZWQnKTtcclxuICAgIGNvbnN0IGlucHV0c0Zvcm0gPSBpdGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLWlucHV0Jyk7XHJcblxyXG4gICAgaW5wdXRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQuY2xvc2VzdCgnLmZvcm0taXRlbScpO1xyXG4gICAgICBjb25zdCBmb3JtID0gZWxlbWVudC5jbG9zZXN0KFwiLmZvbG93X19mb3JtXCIpXHJcbiAgICAgIGlmIChlbGVtZW50LnZhbHVlLnRyaW0oKSA9PT0gJycpIHtcclxuICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcclxuICAgICAgICBpZiAoZm9ybSkge1xyXG4gICAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIilcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFsaWRlID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XHJcbiAgICAgICAgaWYgKGZvcm0pIHtcclxuICAgICAgICAgIGZvcm0uY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucyhcIm1haWwtZm9ybVwiKSkge1xyXG4gICAgICBsZXQgZW1haWwgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbFwiKVxyXG4gICAgICBsZXQgZm9ybUl0ZW0gPSBlbWFpbC5jbG9zZXN0KFwiLmZvcm0taXRlbVwiKVxyXG4gICAgICBpZiAoZm9ybUl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZXJyb3JfX2VtYWlsXCIpKSB7XHJcbiAgICAgICAgdmFsaWRlID0gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWxpZGUpIHtcclxuICAgICAgZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBib2R5OiBuZXcgRm9ybURhdGEoaXRlbSlcclxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSk7XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpbnB1dHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBlbGVtZW50LnZhbHVlID0gXCJcIjtcclxuICAgICAgfSlcclxuICAgICAgaW5wdXRzRm9ybS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSBcIlwiO1xyXG4gICAgICB9KVxyXG5cclxuICAgIH1cclxuICB9KVxyXG59KVxyXG5cclxuY29uc3QgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0taXRlbScpO1xyXG5mb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xyXG4gIGlucHV0c1tpXS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGZvcm0gPSBpbnB1dHNbaV0uY2xvc2VzdChcIi5mb2xvd19fZm9ybVwiKVxyXG4gICAgaWYgKGZvcm0pIHtcclxuICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIilcclxuICAgIH1cclxuICAgIGlucHV0c1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIik7XHJcbiAgfSlcclxufVxyXG5cclxuLy8gdmFsaWRhdGUgZW5kXHJcblxyXG5cclxuXHJcbi8vIGZpbHRlciBidXR0b25zXHJcblxyXG5sZXQgZmlsdGVyQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmlsdGVyX19idG5cIilcclxuaWYoZmlsdGVyQnV0dG9ucyl7XHJcbiAgZmlsdGVyQnV0dG9ucy5mb3JFYWNoKGJ0bj0+e1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7XHJcbiAgICAgIGZpbHRlckJ1dHRvbnMuZm9yRWFjaChlbD0+e1xyXG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIilcclxuICAgICAgfSlcclxuICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICB9KVxyXG4gIH0pXHJcbn1cclxuXHJcblxyXG4vLyBmaWx0ZXIgZW5kXHJcblxyXG59KVxyXG5cclxuIl19
