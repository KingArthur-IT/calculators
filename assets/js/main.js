"use strict";

/* SLIDE UP */
var slideUp = function slideUp(target) {
  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  target.style.transitionProperty = 'height, margin, padding';
  target.style.transitionDuration = duration + 'ms';
  target.style.boxSizing = 'border-box';
  target.style.height = target.offsetHeight + 'px';
  target.offsetHeight;
  target.style.overflow = 'hidden';
  target.style.height = 0;
  target.style.paddingTop = 0;
  target.style.paddingBottom = 0;
  target.style.marginTop = 0;
  target.style.marginBottom = 0;
  window.setTimeout(() => {
    target.style.display = 'none';
    target.style.removeProperty('height');
    target.style.removeProperty('padding-top');
    target.style.removeProperty('padding-bottom');
    target.style.removeProperty('margin-top');
    target.style.removeProperty('margin-bottom');
    target.style.removeProperty('overflow');
    target.style.removeProperty('transition-duration');
    target.style.removeProperty('transition-property'); //alert("!")
  }, duration);
};
/* SLIDE DOWN */


var slideDown = function slideDown(target) {
  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  target.style.removeProperty('display');
  var display = window.getComputedStyle(target).display;
  if (display === 'none') display = 'block';
  target.style.display = display;
  var height = target.offsetHeight;
  target.style.overflow = 'hidden';
  target.style.height = 0;
  target.style.paddingTop = 0;
  target.style.paddingBottom = 0;
  target.style.marginTop = 0;
  target.style.marginBottom = 0;
  target.offsetHeight;
  target.style.boxSizing = 'border-box';
  target.style.transitionProperty = "height, margin, padding";
  target.style.transitionDuration = duration + 'ms';
  target.style.height = height + 'px';
  target.style.removeProperty('padding-top');
  target.style.removeProperty('padding-bottom');
  target.style.removeProperty('margin-top');
  target.style.removeProperty('margin-bottom');
  window.setTimeout(() => {
    target.style.removeProperty('height');
    target.style.removeProperty('overflow');
    target.style.removeProperty('transition-duration');
    target.style.removeProperty('transition-property');
  }, duration);
};
/* TOOGGLE */


var slideToggle = function slideToggle(target) {
  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;

  if (window.getComputedStyle(target).display === 'none') {
    return slideDown(target, duration);
  } else {
    return slideUp(target, duration);
  }
};

(function ($) {
  $(document).ready(function () {
    svg4everybody({});
  });
})(jQuery);

window.addEventListener("resize", function () {
  var vh = window.innerHeight * 0.01; // Then we set the value in the --vh custom property to the root of the document

  document.documentElement.style.setProperty('--vh', "".concat(vh, "px"));
});
window.addEventListener("load", function () {
  var body = this.document.querySelector("body");
  var html = this.document.querySelector("html");
  var vh = window.innerHeight * 0.01; // Then we set the value in the --vh custom property to the root of the document

  document.documentElement.style.setProperty('--vh', "".concat(vh, "px")); // // aos

  setTimeout(function () {
    AOS.init({
      duration: 800,
      once: true
    });
  }, 10); // // aos end
  // header menu

  var headerBurger = document.querySelector(".header__burger");
  var headerMenu = document.querySelector(".header__menu");

  if (headerBurger && headerMenu) {
    headerBurger.addEventListener("click", function () {
      headerBurger.classList.toggle("active");
      headerMenu.classList.toggle("active");
      body.classList.toggle("lock");
      html.classList.toggle("lock");
    });
    window.addEventListener("resize", function () {
      if (window.innerWidth > 1024 && headerMenu.classList.contains("active")) {
        headerBurger.classList.remove("active");
        headerMenu.classList.remove("active");
        body.classList.remove("lock");
        html.classList.remove("lock");
      }
    }); // header links

    var headerLinks = headerMenu.querySelectorAll(".header__link");

    if (headerLinks) {
      headerLinks.forEach(link => {
        var triggerLink = link.querySelector(".trigger");
        var menuLink = link.querySelector(".header-link__menu");

        if (triggerLink && menuLink) {
          triggerLink.addEventListener("click", function () {
            if (window.innerWidth <= 1024) {
              triggerLink.classList.toggle("active");
              slideToggle(menuLink, 300);
            }
          });
          window.addEventListener("resize", function () {
            if (window.innerWidth > 1024 && menuLink.hasAttribute("style")) {
              triggerLink.classList.remove("active");
              menuLink.removeAttribute("style");
            }
          });
        }
      });
    } // header links end

  } // header menu end
  // faq


  var faqItems = document.querySelectorAll(".faq__item ");

  if (faqItems) {
    faqItems.forEach(faq => {
      var faqTrigger = faq.querySelector(".faq__trigger ");
      var faqContent = faq.querySelector(".faq__content ");

      if (faqContent && faqTrigger) {
        faqTrigger.addEventListener("click", function () {
          faqTrigger.classList.toggle("active");
          slideToggle(faqContent, 300);
        });
      }
    });
  } // faq end
  // sliders
  // slider review


  var swiperReview = new Swiper(".review__slider  .swiper-container", {
    navigation: {
      nextEl: ".review__slider .swiper-button-nextt",
      prevEl: ".review__slider .swiper-button-prevv"
    },
    slidesPerView: 1,
    spaceBetween: 20,
    slidesPerGroup: 1,
    speed: 700,
    breakpoints: {
      1451: {
        slidesPerView: 2,
        spaceBetween: 45,
        slidesPerGroup: 1
      },
      1301: {
        slidesPerView: 2,
        spaceBetween: 30,
        slidesPerGroup: 1
      },
      1025: {
        slidesPerView: 1,
        spaceBetween: 20,
        slidesPerGroup: 1
      },
      577: {
        slidesPerView: 2,
        spaceBetween: 20,
        slidesPerGroup: 1
      }
    }
  }); // slider review end
  // sliders end
  //validate

  var forms = document.querySelectorAll(".form-container");
  forms && forms.forEach(item => {
    var email = item.querySelector(".mail");

    if (email) {
      var parent = email.closest(".form-item");
      var pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
      email.addEventListener("keyup", function (ev) {
        ev.stopPropagation();
        var value = email.value;

        if (value.match(pattern)) {
          parent.classList.remove("error__email");
        } else {
          parent.classList.add("error__email");
        }

        if (value.length < 1) {
          parent.classList.remove("error__email");
        }
      });
    }

    item.addEventListener('submit', function (e) {
      e.preventDefault();
      var valide = true;
      var inputs = item.querySelectorAll('.form-required');
      var inputsForm = item.querySelectorAll('.form-input');
      inputs.forEach(element => {
        var parent = element.closest('.form-item');
        var form = element.closest(".folow__form");

        if (element.value.trim() === '') {
          parent.classList.add('error');

          if (form) {
            form.classList.add("error");
          }

          valide = false;
        } else {
          parent.classList.remove('error');

          if (form) {
            form.classList.remove("error");
          }
        }
      });

      if (item.classList.contains("mail-form")) {
        var _email = item.querySelector(".mail");

        var formItem = _email.closest(".form-item");

        if (formItem.classList.contains("error__email")) {
          valide = false;
        }
      }

      if (valide) {
        fetch('https://jsonplaceholder.typicode.com/posts', {
          method: 'POST',
          body: new FormData(item)
        }).then(function (response) {
          if (response.ok) {
            return response.json();
          }

          return Promise.reject(response);
        }).then(function (data) {})["catch"](function (error) {
          console.warn(error);
        });
        inputs.forEach(element => {
          element.value = "";
        });
        inputsForm.forEach(element => {
          element.value = "";
        });
      }
    });
  });
  var inputs = document.querySelectorAll('.form-item');

  var _loop = function _loop(i) {
    inputs[i].addEventListener("input", function () {
      var form = inputs[i].closest(".folow__form");

      if (form) {
        form.classList.remove("error");
      }

      inputs[i].classList.remove("error");
    });
  };

  for (var i = 0; i < inputs.length; i++) {
    _loop(i);
  } // validate end
  // filter buttons


  var filterButtons = document.querySelectorAll(".filter__btn");

  if (filterButtons) {
    filterButtons.forEach(btn => {
      btn.addEventListener("click", function () {
        filterButtons.forEach(el => {
          el.classList.remove("active");
        });
        btn.classList.add('active');
      });
    });
  } // filter end
  // calculator math


  var calculatorFields = document.querySelectorAll(".calculator-form__field");

  if (calculatorFields) {
    calculatorFields.forEach(field => {
      var calcInput = field.querySelector(".calculator-input");
      var calcPlusBtn = field.querySelector(".calculator-math-plus");
      var calcMinusBtn = field.querySelector(".calculator-math-minus");

      if (calcInput && calcMinusBtn && calcPlusBtn) {
        calcMinusBtn.addEventListener("click", function () {
          if (parseFloat(calcInput.value) > 0) {
            calcInput.value = parseFloat(calcInput.value) - 1;
          }
        });
        calcPlusBtn.addEventListener("click", function () {
          calcInput.value = parseFloat(calcInput.value) + 1;
        });
      }
    });
  } // calculator marh end
  // calculator tabs


  var calculatorTabsTrigger = document.querySelectorAll(".calculator-tab__btn");
  var calculatorTabs = document.querySelectorAll(".calculator-tab");

  if (calculatorTabs && calculatorTabsTrigger) {
    calculatorTabsTrigger.forEach(trigger => {
      trigger.addEventListener("click", function () {
        calculatorTabsTrigger.forEach(t => {
          t.classList.remove("active");
        });
        calculatorTabs.forEach(tab => {
          if (trigger.getAttribute("data-tab").toLocaleLowerCase() == tab.getAttribute("data-tab").toLocaleLowerCase()) {
            tab.classList.add("active");
            trigger.classList.add("active");
          } else {
            tab.classList.remove("active");
          }
        });
      });
    });
  } // calculator tabs end
  // calculator stats btns


  var calculatorStatsBtns = this.document.querySelectorAll(".calculator-tab__buttons");

  if (calculatorStatsBtns) {
    calculatorStatsBtns.forEach(wrapp => {
      var calcStatBtn = wrapp.querySelectorAll(".calculator-graph__btn");

      if (calcStatBtn) {
        calcStatBtn.forEach(b => {
          b.addEventListener("click", function () {
            calcStatBtn.forEach(elb => {
              elb.classList.remove("active");
            });
            b.classList.add("active");
          });
        });
      }
    });
  } // calculator stats btns end

});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2xpZGVVcCIsInRhcmdldCIsImR1cmF0aW9uIiwic3R5bGUiLCJ0cmFuc2l0aW9uUHJvcGVydHkiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJib3hTaXppbmciLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJvdmVyZmxvdyIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwid2luZG93Iiwic2V0VGltZW91dCIsImRpc3BsYXkiLCJyZW1vdmVQcm9wZXJ0eSIsInNsaWRlRG93biIsImdldENvbXB1dGVkU3R5bGUiLCJzbGlkZVRvZ2dsZSIsIiQiLCJkb2N1bWVudCIsInJlYWR5Iiwic3ZnNGV2ZXJ5Ym9keSIsImpRdWVyeSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2aCIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2V0UHJvcGVydHkiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsImh0bWwiLCJBT1MiLCJpbml0Iiwib25jZSIsImhlYWRlckJ1cmdlciIsImhlYWRlck1lbnUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJpbm5lcldpZHRoIiwiY29udGFpbnMiLCJyZW1vdmUiLCJoZWFkZXJMaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwibGluayIsInRyaWdnZXJMaW5rIiwibWVudUxpbmsiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmYXFJdGVtcyIsImZhcSIsImZhcVRyaWdnZXIiLCJmYXFDb250ZW50Iiwic3dpcGVyUmV2aWV3IiwiU3dpcGVyIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJHcm91cCIsInNwZWVkIiwiYnJlYWtwb2ludHMiLCJmb3JtcyIsIml0ZW0iLCJlbWFpbCIsInBhcmVudCIsImNsb3Nlc3QiLCJwYXR0ZXJuIiwiZXYiLCJzdG9wUHJvcGFnYXRpb24iLCJ2YWx1ZSIsIm1hdGNoIiwiYWRkIiwibGVuZ3RoIiwiZSIsInByZXZlbnREZWZhdWx0IiwidmFsaWRlIiwiaW5wdXRzIiwiaW5wdXRzRm9ybSIsImVsZW1lbnQiLCJmb3JtIiwidHJpbSIsImZvcm1JdGVtIiwiZmV0Y2giLCJtZXRob2QiLCJGb3JtRGF0YSIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImkiLCJmaWx0ZXJCdXR0b25zIiwiYnRuIiwiZWwiLCJjYWxjdWxhdG9yRmllbGRzIiwiZmllbGQiLCJjYWxjSW5wdXQiLCJjYWxjUGx1c0J0biIsImNhbGNNaW51c0J0biIsInBhcnNlRmxvYXQiLCJjYWxjdWxhdG9yVGFic1RyaWdnZXIiLCJjYWxjdWxhdG9yVGFicyIsInRyaWdnZXIiLCJ0IiwidGFiIiwiZ2V0QXR0cmlidXRlIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJjYWxjdWxhdG9yU3RhdHNCdG5zIiwid3JhcHAiLCJjYWxjU3RhdEJ0biIsImIiLCJlbGIiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxJQUFNQSxPQUFPLEdBQUcsU0FBVkEsT0FBVSxDQUFDQyxNQUFELEVBQTRCO0VBQUEsSUFBbkJDLFFBQW1CLHVFQUFSLEdBQVE7RUFDMUNELE1BQU0sQ0FBQ0UsS0FBUCxDQUFhQyxrQkFBYixHQUFrQyx5QkFBbEM7RUFDQUgsTUFBTSxDQUFDRSxLQUFQLENBQWFFLGtCQUFiLEdBQWtDSCxRQUFRLEdBQUcsSUFBN0M7RUFDQUQsTUFBTSxDQUFDRSxLQUFQLENBQWFHLFNBQWIsR0FBeUIsWUFBekI7RUFDQUwsTUFBTSxDQUFDRSxLQUFQLENBQWFJLE1BQWIsR0FBc0JOLE1BQU0sQ0FBQ08sWUFBUCxHQUFzQixJQUE1QztFQUNBUCxNQUFNLENBQUNPLFlBQVA7RUFDQVAsTUFBTSxDQUFDRSxLQUFQLENBQWFNLFFBQWIsR0FBd0IsUUFBeEI7RUFDQVIs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N1REIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBTTElERSBVUCAqL1xyXG5jb25zdCBzbGlkZVVwID0gKHRhcmdldCwgZHVyYXRpb24gPSA1MDApID0+IHtcclxuICB0YXJnZXQuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gJ2hlaWdodCwgbWFyZ2luLCBwYWRkaW5nJ1xyXG4gIHRhcmdldC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBkdXJhdGlvbiArICdtcydcclxuICB0YXJnZXQuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnXHJcbiAgdGFyZ2V0LnN0eWxlLmhlaWdodCA9IHRhcmdldC5vZmZzZXRIZWlnaHQgKyAncHgnXHJcbiAgdGFyZ2V0Lm9mZnNldEhlaWdodFxyXG4gIHRhcmdldC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nXHJcbiAgdGFyZ2V0LnN0eWxlLmhlaWdodCA9IDBcclxuICB0YXJnZXQuc3R5bGUucGFkZGluZ1RvcCA9IDBcclxuICB0YXJnZXQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IDBcclxuICB0YXJnZXQuc3R5bGUubWFyZ2luVG9wID0gMFxyXG4gIHRhcmdldC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAwXHJcbiAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnaGVpZ2h0JylcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy10b3AnKVxyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdwYWRkaW5nLWJvdHRvbScpXHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ21hcmdpbi10b3AnKVxyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdtYXJnaW4tYm90dG9tJylcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnb3ZlcmZsb3cnKVxyXG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2l0aW9uLWR1cmF0aW9uJylcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNpdGlvbi1wcm9wZXJ0eScpXHJcbiAgICAvL2FsZXJ0KFwiIVwiKVxyXG4gIH0sIGR1cmF0aW9uKVxyXG59XHJcblxyXG4vKiBTTElERSBET1dOICovXHJcbmNvbnN0IHNsaWRlRG93biA9ICh0YXJnZXQsIGR1cmF0aW9uID0gNTAwKSA9PiB7XHJcbiAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5JylcclxuICBsZXQgZGlzcGxheSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuZGlzcGxheVxyXG4gIGlmIChkaXNwbGF5ID09PSAnbm9uZScpIGRpc3BsYXkgPSAnYmxvY2snXHJcbiAgdGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5XHJcbiAgbGV0IGhlaWdodCA9IHRhcmdldC5vZmZzZXRIZWlnaHRcclxuICB0YXJnZXQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xyXG4gIHRhcmdldC5zdHlsZS5oZWlnaHQgPSAwXHJcbiAgdGFyZ2V0LnN0eWxlLnBhZGRpbmdUb3AgPSAwXHJcbiAgdGFyZ2V0LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAwXHJcbiAgdGFyZ2V0LnN0eWxlLm1hcmdpblRvcCA9IDBcclxuICB0YXJnZXQuc3R5bGUubWFyZ2luQm90dG9tID0gMFxyXG4gIHRhcmdldC5vZmZzZXRIZWlnaHRcclxuICB0YXJnZXQuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnXHJcbiAgdGFyZ2V0LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9IFwiaGVpZ2h0LCBtYXJnaW4sIHBhZGRpbmdcIlxyXG4gIHRhcmdldC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBkdXJhdGlvbiArICdtcydcclxuICB0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4J1xyXG4gIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy10b3AnKVxyXG4gIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy1ib3R0b20nKVxyXG4gIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWFyZ2luLXRvcCcpXHJcbiAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdtYXJnaW4tYm90dG9tJylcclxuICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2hlaWdodCcpXHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ292ZXJmbG93JylcclxuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNpdGlvbi1kdXJhdGlvbicpXHJcbiAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RyYW5zaXRpb24tcHJvcGVydHknKVxyXG4gIH0sIGR1cmF0aW9uKVxyXG59XHJcblxyXG4vKiBUT09HR0xFICovXHJcbmNvbnN0IHNsaWRlVG9nZ2xlID0gKHRhcmdldCwgZHVyYXRpb24gPSA1MDApID0+IHtcclxuICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUodGFyZ2V0KS5kaXNwbGF5ID09PSAnbm9uZScpIHtcclxuICAgIHJldHVybiBzbGlkZURvd24odGFyZ2V0LCBkdXJhdGlvbik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBzbGlkZVVwKHRhcmdldCwgZHVyYXRpb24pO1xyXG4gIH1cclxufTtcclxuXHJcbihmdW5jdGlvbigkKSB7XHJcblxyXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHN2ZzRldmVyeWJvZHkoe30pO1xyXG4gIH0pO1xyXG5cclxufSkoalF1ZXJ5KTtcclxuXHJcblxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixmdW5jdGlvbigpe1xyXG4gIGxldCB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7XHJcbiAgLy8gVGhlbiB3ZSBzZXQgdGhlIHZhbHVlIGluIHRoZSAtLXZoIGN1c3RvbSBwcm9wZXJ0eSB0byB0aGUgcm9vdCBvZiB0aGUgZG9jdW1lbnRcclxuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdmgnLCBgJHt2aH1weGApO1xyXG5cclxufSlcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGZ1bmN0aW9uKCl7XHJcbiAgbGV0IGJvZHkgPSB0aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xyXG4gIGxldCBodG1sID0gdGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaHRtbFwiKTtcclxuICBsZXQgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xyXG4gIC8vIFRoZW4gd2Ugc2V0IHRoZSB2YWx1ZSBpbiB0aGUgLS12aCBjdXN0b20gcHJvcGVydHkgdG8gdGhlIHJvb3Qgb2YgdGhlIGRvY3VtZW50XHJcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXZoJywgYCR7dmh9cHhgKTtcclxuXHJcbiAgLy8gLy8gYW9zXHJcbiAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgQU9TLmluaXQoe1xyXG4gICAgICBkdXJhdGlvbjogODAwLFxyXG4gICAgICBvbmNlOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfSwxMClcclxuXHJcbiAgLy8gLy8gYW9zIGVuZFxyXG5cclxuXHJcbiAgLy8gaGVhZGVyIG1lbnVcclxuXHJcbiAgbGV0IGhlYWRlckJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19idXJnZXJcIilcclxuICBsZXQgaGVhZGVyTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19tZW51XCIpXHJcbiAgaWYoaGVhZGVyQnVyZ2VyICYmIGhlYWRlck1lbnUpe1xyXG4gICAgaGVhZGVyQnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7XHJcbiAgICAgIGhlYWRlckJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpXHJcbiAgICAgIGhlYWRlck1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKVxyXG4gICAgICBib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJsb2NrXCIpXHJcbiAgICAgIGh0bWwuY2xhc3NMaXN0LnRvZ2dsZShcImxvY2tcIilcclxuICAgIH0pXHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixmdW5jdGlvbigpe1xyXG4gICAgICBpZih3aW5kb3cuaW5uZXJXaWR0aCA+IDEwMjQgJiYgaGVhZGVyTWVudS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpe1xyXG4gICAgICAgIGhlYWRlckJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpXHJcbiAgICAgICAgaGVhZGVyTWVudS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpXHJcbiAgICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibG9ja1wiKVxyXG4gICAgICAgIGh0bWwuY2xhc3NMaXN0LnJlbW92ZShcImxvY2tcIilcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcblxyXG4gICAgLy8gaGVhZGVyIGxpbmtzXHJcblxyXG4gICAgbGV0IGhlYWRlckxpbmtzID0gaGVhZGVyTWVudS5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlYWRlcl9fbGlua1wiKVxyXG4gICAgaWYoaGVhZGVyTGlua3Mpe1xyXG4gICAgICBoZWFkZXJMaW5rcy5mb3JFYWNoKGxpbms9PntcclxuICAgICAgICBsZXQgdHJpZ2dlckxpbmsgPSBsaW5rLnF1ZXJ5U2VsZWN0b3IoXCIudHJpZ2dlclwiKVxyXG4gICAgICAgIGxldCBtZW51TGluayA9IGxpbmsucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItbGlua19fbWVudVwiKVxyXG4gICAgICAgIGlmKHRyaWdnZXJMaW5rICYmIG1lbnVMaW5rKXtcclxuICAgICAgICAgIHRyaWdnZXJMaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMjQpe1xyXG4gICAgICAgICAgICAgIHRyaWdnZXJMaW5rLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIilcclxuICAgICAgICAgICAgICBzbGlkZVRvZ2dsZShtZW51TGluaywzMDApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZih3aW5kb3cuaW5uZXJXaWR0aCA+IDEwMjQgJiYgbWVudUxpbmsuaGFzQXR0cmlidXRlKFwic3R5bGVcIikpe1xyXG4gICAgICAgICAgICAgIHRyaWdnZXJMaW5rLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIilcclxuICAgICAgICAgICAgICBtZW51TGluay5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBoZWFkZXIgbGlua3MgZW5kXHJcbiAgfVxyXG4gIC8vIGhlYWRlciBtZW51IGVuZFxyXG5cclxuXHJcbiAgLy8gZmFxXHJcblxyXG4gIGxldCBmYXFJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmFxX19pdGVtIFwiKVxyXG4gIGlmKGZhcUl0ZW1zKXtcclxuICAgIGZhcUl0ZW1zLmZvckVhY2goZmFxPT57XHJcbiAgICAgIGxldCBmYXFUcmlnZ2VyID0gZmFxLnF1ZXJ5U2VsZWN0b3IoXCIuZmFxX190cmlnZ2VyIFwiKVxyXG4gICAgICBsZXQgZmFxQ29udGVudCA9IGZhcS5xdWVyeVNlbGVjdG9yKFwiLmZhcV9fY29udGVudCBcIilcclxuICAgICAgaWYoZmFxQ29udGVudCAmJiBmYXFUcmlnZ2VyKXtcclxuICAgICAgICBmYXFUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBmYXFUcmlnZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIilcclxuICAgICAgICAgIHNsaWRlVG9nZ2xlKGZhcUNvbnRlbnQsMzAwKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gZmFxIGVuZFxyXG5cclxuXHJcblxyXG4gIC8vIHNsaWRlcnNcclxuXHJcblxyXG4gIC8vIHNsaWRlciByZXZpZXdcclxuXHJcbiAgbGV0IHN3aXBlclJldmlldyA9IG5ldyBTd2lwZXIoXCIucmV2aWV3X19zbGlkZXIgIC5zd2lwZXItY29udGFpbmVyXCIsIHtcclxuICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgbmV4dEVsOiBcIi5yZXZpZXdfX3NsaWRlciAuc3dpcGVyLWJ1dHRvbi1uZXh0dFwiLFxyXG4gICAgICBwcmV2RWw6IFwiLnJldmlld19fc2xpZGVyIC5zd2lwZXItYnV0dG9uLXByZXZ2XCIsXHJcbiAgICB9LFxyXG4gICAgc2xpZGVzUGVyVmlldzoxLFxyXG4gICAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICAgIHNsaWRlc1Blckdyb3VwOjEsXHJcbiAgICBzcGVlZDo3MDAsXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICAxNDUxOiB7XHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICBzcGFjZUJldHdlZW46IDQ1LFxyXG4gICAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxyXG4gICAgICB9LFxyXG4gICAgICAxMzAxOntcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXHJcbiAgICAgIH0sXHJcbiAgICAgIDEwMjU6e1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICAgICAgICBzbGlkZXNQZXJHcm91cDoxLFxyXG4gICAgICB9LFxyXG4gICAgICA1Nzc6e1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICAgICAgICBzbGlkZXNQZXJHcm91cDoxLFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIHNsaWRlciByZXZpZXcgZW5kXHJcblxyXG4gIC8vIHNsaWRlcnMgZW5kXHJcblxyXG5cclxuLy92YWxpZGF0ZVxyXG5cclxuY29uc3QgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm0tY29udGFpbmVyXCIpXHJcblxyXG5mb3JtcyAmJiBmb3Jtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gIGxldCBlbWFpbCA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5tYWlsXCIpXHJcbiAgaWYgKGVtYWlsKSB7XHJcbiAgICBsZXQgcGFyZW50ID0gZW1haWwuY2xvc2VzdChcIi5mb3JtLWl0ZW1cIilcclxuICAgIGxldCBwYXR0ZXJuID0gL15bXiBdK0BbXiBdK1xcLlthLXpdezIsM30kLztcclxuICAgIGVtYWlsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGxldCB2YWx1ZSA9IGVtYWlsLnZhbHVlO1xyXG4gICAgICBpZiAodmFsdWUubWF0Y2gocGF0dGVybikpIHtcclxuICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yX19lbWFpbFwiKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcmVudC5jbGFzc0xpc3QuYWRkKFwiZXJyb3JfX2VtYWlsXCIpXHJcbiAgICAgIH1cclxuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yX19lbWFpbFwiKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGxldCB2YWxpZGUgPSB0cnVlO1xyXG4gICAgY29uc3QgaW5wdXRzID0gaXRlbS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1yZXF1aXJlZCcpO1xyXG4gICAgY29uc3QgaW5wdXRzRm9ybSA9IGl0ZW0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0taW5wdXQnKTtcclxuXHJcbiAgICBpbnB1dHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5jbG9zZXN0KCcuZm9ybS1pdGVtJyk7XHJcbiAgICAgIGNvbnN0IGZvcm0gPSBlbGVtZW50LmNsb3Nlc3QoXCIuZm9sb3dfX2Zvcm1cIilcclxuICAgICAgaWYgKGVsZW1lbnQudmFsdWUudHJpbSgpID09PSAnJykge1xyXG4gICAgICAgIHBhcmVudC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG4gICAgICAgIGlmIChmb3JtKSB7XHJcbiAgICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YWxpZGUgPSBmYWxzZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxuICAgICAgICBpZiAoZm9ybSkge1xyXG4gICAgICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFpbC1mb3JtXCIpKSB7XHJcbiAgICAgIGxldCBlbWFpbCA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5tYWlsXCIpXHJcbiAgICAgIGxldCBmb3JtSXRlbSA9IGVtYWlsLmNsb3Nlc3QoXCIuZm9ybS1pdGVtXCIpXHJcbiAgICAgIGlmIChmb3JtSXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJlcnJvcl9fZW1haWxcIikpIHtcclxuICAgICAgICB2YWxpZGUgPSBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbGlkZSkge1xyXG4gICAgICBmZXRjaCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGJvZHk6IG5ldyBGb3JtRGF0YShpdGVtKVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKTtcclxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlucHV0cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSBcIlwiO1xyXG4gICAgICB9KVxyXG4gICAgICBpbnB1dHNGb3JtLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgZWxlbWVudC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfVxyXG4gIH0pXHJcbn0pXHJcblxyXG5jb25zdCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1pdGVtJyk7XHJcbmZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgaW5wdXRzW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgZm9ybSA9IGlucHV0c1tpXS5jbG9zZXN0KFwiLmZvbG93X19mb3JtXCIpXHJcbiAgICBpZiAoZm9ybSkge1xyXG4gICAgICBmb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKVxyXG4gICAgfVxyXG4gICAgaW5wdXRzW2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcclxuICB9KVxyXG59XHJcblxyXG4vLyB2YWxpZGF0ZSBlbmRcclxuXHJcblxyXG5cclxuLy8gZmlsdGVyIGJ1dHRvbnNcclxuXHJcbmxldCBmaWx0ZXJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5maWx0ZXJfX2J0blwiKVxyXG5pZihmaWx0ZXJCdXR0b25zKXtcclxuICBmaWx0ZXJCdXR0b25zLmZvckVhY2goYnRuPT57XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtcclxuICAgICAgZmlsdGVyQnV0dG9ucy5mb3JFYWNoKGVsPT57XHJcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxyXG4gICAgICB9KVxyXG4gICAgICBidG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgIH0pXHJcbiAgfSlcclxufVxyXG5cclxuXHJcbi8vIGZpbHRlciBlbmRcclxuXHJcblxyXG5cclxuLy8gY2FsY3VsYXRvciBtYXRoXHJcblxyXG5sZXQgY2FsY3VsYXRvckZpZWxkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FsY3VsYXRvci1mb3JtX19maWVsZFwiKVxyXG5pZihjYWxjdWxhdG9yRmllbGRzKXtcclxuICBjYWxjdWxhdG9yRmllbGRzLmZvckVhY2goZmllbGQ9PntcclxuICAgIGxldCBjYWxjSW5wdXQgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKFwiLmNhbGN1bGF0b3ItaW5wdXRcIilcclxuICAgIGxldCBjYWxjUGx1c0J0biA9IGZpZWxkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FsY3VsYXRvci1tYXRoLXBsdXNcIilcclxuICAgIGxldCBjYWxjTWludXNCdG4gPSBmaWVsZC5xdWVyeVNlbGVjdG9yKFwiLmNhbGN1bGF0b3ItbWF0aC1taW51c1wiKVxyXG4gICAgaWYoY2FsY0lucHV0ICYmIGNhbGNNaW51c0J0biAmJiBjYWxjUGx1c0J0bil7XHJcbiAgICAgIGNhbGNNaW51c0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKHBhcnNlRmxvYXQoY2FsY0lucHV0LnZhbHVlKSA+IDApe1xyXG4gICAgICAgICAgY2FsY0lucHV0LnZhbHVlID0gcGFyc2VGbG9hdChjYWxjSW5wdXQudmFsdWUpIC0gMVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgY2FsY1BsdXNCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtcclxuICAgICAgICBjYWxjSW5wdXQudmFsdWUgPSBwYXJzZUZsb2F0KGNhbGNJbnB1dC52YWx1ZSkgKyAxXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuLy8gY2FsY3VsYXRvciBtYXJoIGVuZFxyXG5cclxuXHJcbi8vIGNhbGN1bGF0b3IgdGFic1xyXG5cclxubGV0IGNhbGN1bGF0b3JUYWJzVHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FsY3VsYXRvci10YWJfX2J0blwiKVxyXG5sZXQgY2FsY3VsYXRvclRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhbGN1bGF0b3ItdGFiXCIpXHJcbmlmKGNhbGN1bGF0b3JUYWJzICYmIGNhbGN1bGF0b3JUYWJzVHJpZ2dlcil7XHJcbiAgY2FsY3VsYXRvclRhYnNUcmlnZ2VyLmZvckVhY2godHJpZ2dlcj0+e1xyXG4gICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe1xyXG4gICAgICBjYWxjdWxhdG9yVGFic1RyaWdnZXIuZm9yRWFjaCh0PT57XHJcbiAgICAgICAgdC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpXHJcbiAgICAgIH0pXHJcbiAgICAgIGNhbGN1bGF0b3JUYWJzLmZvckVhY2godGFiPT57XHJcbiAgICAgICAgaWYodHJpZ2dlci5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRhYlwiKS50b0xvY2FsZUxvd2VyQ2FzZSgpID09IHRhYi5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRhYlwiKS50b0xvY2FsZUxvd2VyQ2FzZSgpKXtcclxuICAgICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpXHJcbiAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIilcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9KVxyXG59XHJcblxyXG4vLyBjYWxjdWxhdG9yIHRhYnMgZW5kXHJcblxyXG5cclxuLy8gY2FsY3VsYXRvciBzdGF0cyBidG5zXHJcbmxldCBjYWxjdWxhdG9yU3RhdHNCdG5zID0gdGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhbGN1bGF0b3ItdGFiX19idXR0b25zXCIpXHJcbmlmKGNhbGN1bGF0b3JTdGF0c0J0bnMpe1xyXG4gIGNhbGN1bGF0b3JTdGF0c0J0bnMuZm9yRWFjaCh3cmFwcD0+e1xyXG4gICAgbGV0IGNhbGNTdGF0QnRuID0gd3JhcHAucXVlcnlTZWxlY3RvckFsbChcIi5jYWxjdWxhdG9yLWdyYXBoX19idG5cIilcclxuICAgIGlmKGNhbGNTdGF0QnRuKXtcclxuICAgICAgY2FsY1N0YXRCdG4uZm9yRWFjaChiPT57XHJcbiAgICAgICAgYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe1xyXG4gICAgICAgICAgY2FsY1N0YXRCdG4uZm9yRWFjaChlbGI9PntcclxuICAgICAgICAgICAgZWxiLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIilcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBiLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIilcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuLy8gY2FsY3VsYXRvciBzdGF0cyBidG5zIGVuZFxyXG5cclxufSlcclxuXHJcbiJdfQ==
